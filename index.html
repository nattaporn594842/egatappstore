<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>EGAT Enterprise App Store</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="css/themes/default/jquery.mobile-1.4.5.min.css" rel="stylesheet" type="text/css"/>
        <link href="app.css" rel="stylesheet" type="text/css"/>
        <script src="js/jquery.min.js" type="text/javascript"></script>
        <script src="js/jquery.mobile-1.4.5.min.js" type="text/javascript"></script>
    </head>
    <body>
<!--------------------------------------------------Home----------------------------------------------------->
        <section data-role="page" id="home">
            <header data-role="header">
                <h1>EGAT Enterprise App Store</h1>
            </header>
            <div data-role="content">
                <img src="images/EEAS_logo.png" >
                <form>
                    <div class="ui-field-contain">
                        <label><b>Username:</b></label>
                        <input type="text" placeholder="ชื่อผู้ใช้งาน" data-clear-btn="true">  
                    </div> 
                    <div class="ui-field-contain">
                        <label><b>Password:</b></label>
                        <input type="password" placeholder="รหัสผ่าน" data-clear-btn="true">  
                    </div>
                    <div>
                    <input type="submit" value="LOGIN" data-theme="b">
                    </div>
                    <div><center>ใช้รหัสผ่านเดียวกันกับระบบอีเมล์ กฟผ.</center></div>
                </form>
                
                <p class="plink"><a href="#main-menu" data-role="button" data-inline="true" data-icon="bullets">Main Menu</a></p>
            </div>
            <footer data-role="footer">
                <h3>&copy;2558 EGAT</h3>
            </footer>
        </section>
<!-----------------------------------------------MainMenu-------------------------------------------------->       
        <section data-role="page" id="main-menu">
            <header data-role="header">
                <h1>Main Menu</h1>
            </header>
            <div data-role="content">
                <div data-role="controlgroup">
                    <a href="#home" data-role="button" data-icon="home">Home</a>
                    <a href="allapp.html" rel="external" data-role="button" data-icon="shop">EGAT Enterprise App Store</a>
                    <a href="#app-detail" data-rel="dialog" data-transition="fade" data-role="button" data-icon="info">Application Detail</a>
                    <a href="#about-us" data-rel="dialog" data-transition="fade" data-role="button" data-icon="user">About Us</a>
                    <a href="review.html" rel="external" data-role="button" data-icon="edit">Ratings and Reviews</a>
                    <!--<a href="hello.php" data-role="button" data-inline="true" data-icon="home">PHP</a>-->
                    <a href="#rrresult" data-role="button" data-inlne="true" data-icon="comment">Ratings and Reviews Result</a>
                </div>
            </div>
            <footer data-role="footer">
                <h3>&copy;2558 EGAT</h3>
            </footer>
        </section>
<!-----------------------------------------ApplicationDetail--------------------------------------------->        
        <section data-role="page" id="app-detail">
             <header data-role="header">
                <h1>Application Detail</h1>
            </header>
            <div data-role="content">
                <div class="ui-bar ui-bar-a"> 
                <h4>EGAT Enterprise App Store</h4>
                </div>
                <div class="ui-body">
                    <b>Version :</b> 1.0<br>
                    <b>Created Date:</b> 16-Oct-15
                </div>
            </div>
            <footer data-role="footer">
                <h3>&copy;2558 EGAT</h3>
            </footer>
        </section>
<!----------------------------------------------AboutUs------------------------------------------------>       
        <section data-role="page" id="about-us">
            <header data-role="header">
                <h1>About Us</h1>
            </header>
            <div data-role="content">
                <div class="ui-corner-all custom-corners">
                    <div class="ui-bar ui-bar-a">
                    <b>พัฒนาโดย:</b>  
                    </div>
                </div>
                    <div class="ui-body ui-body-a">
                        <p><b>นางสาวณัฐพร แป้งหอม</b><br>
                        แผนกวิชาการเทคโนโลยีสารสนเทศ<br> 
                        กองวางแผนและวิชาการเทคโนโลยีสารสนเทศ <br>
                        ฝ่ายวางแผนเทคโนโลยีสารสนเทศ<br>
                        โทร. 64417 Email: nattaporn.pan@egat.co.th</p>
                    </div>              
            </div>
            <footer data-role="footer">
                <h3>&copy;2558 EGAT</h3>
            </footer>
        </section>
<!--------------------------------Ratings and Reviews Result----------------------------------------->       
        <section data-role="page" id="rrresult">
            <header data-role="header">
                <a href="" data-rel="back" data-icon="back" data-iconpos="notext"></a>
                <h1>Ratings and Reviews Result</h1>
            </header>
            <div data-role="content">
                <ul data-role="listview" data-inset="true" id="view_rr">
                    <li data-icon="plus">
                        <a>A</a>
                    </li>
                    <li data-icon="plus">
                        <a>B</a>
                    </li>
                </ul>
            </div>
            <footer data-role="footer">
                <h3>&copy;2558 EGAT</h3>
            </footer>
        </section>
<!----------------------------------javascript-------------------------------------------->  
    <!---   rrresult='id page' display Ratings and Reviews Result
            view_rr='id ul listview' from Ratings and Reviews Result page
            viewrr='data value' in javascript for view data items in database    --->
    
        <script type="text/javascript">
            var serviceURL = "http://10.20.93.89/egatappstore_service/view_rating_review.php"
            var serviceURL2 = "http://10.20.93.89/egatappstore_service/get_rating_review.php"
            var viewrr
            $("#rrresult").on('pageinit',function(){
                //alert("hello");
                //$.getJSON(serviceURL,function(data){
                //    $("#view_rr li").remove();
                //});
            });
            $(document).on('pageshow',"#rrresult",function(){
                $.getJSON(serviceURL,function(data){
                    $("#view_rr li").remove();            
                    viewrr=data.items;
                    $.each(viewrr,function (index,oct){
                        $("#view_rr").append("<li><a href='rating_review_detail.html?id="+oct.id+"'>"+oct.r_name+"</a></li>");
                    });
                        $("#view_rr").listview('refresh');
                    //alert(viewrr);
                });
            });
            
            $(document).on('pageshow',"#rating_review_detail",function(){
                var id=getUrlVars()["id"];
                $.getJSON(serviceURL2+"?id="+id,function (data){
                    var a = data.items;
                    $.each(a, function (index,val){
                        $("#sp1").html(val.r_review);
                        
                    });
                });
           //alert(id);
            });
            
            function getUrlVars() {
                var vars = [], hash;
                var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
                for (var i = 0; i < hashes.length; i++)
                {
                    hash = hashes[i].split('=');
                    vars.push(hash[0]);
                    vars[hash[0]] = hash[1];
                }
                return vars;
            }
            
        </script>
    </body>
</html>
 